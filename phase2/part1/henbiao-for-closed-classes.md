# 按日查看教室安排（横表）可以适用于已经关闭的班级

## 问题
* 在选取的日期在当前学期正在进行中时，显示横表的时候，默认不显示已经关闭的班级
* 现在学校有需求，需要显示过往学期的横表，显示已经关闭的班级
* 对于已经关闭的班级，到底需不需要显示？

## 解决
* 在关闭班级的时候，新增“是否需要展示在横表”的选项
  * 该选项默认“是”
    * 使用于正常关闭的班级：虚拟班转正，关闭上学期的班级
  * 当由于特殊原因关闭的班级
    * 该选项设置为“否”

* 首先在展示横表时，确定选定日期的时候，通过该日期确定唯一的对应的学期
  * 得到该日期的所有班级对应的学期数量
  * 学期数量 == 1，确定唯一学期
  * 学期数量 > 1
    * 如果同时存在“春季/秋季”，“寒假/暑假”2种学期：选取”春季“/”秋季“的学期，作为唯一对应的学期，忽略”寒假“/”暑假“的学期
    * 如果只存在“春季/秋季”，“寒假/暑假”中的1种（理论上不会出现）：选取时间比较早的学期

* 在确定了唯一的学期后，如果存在已经关闭的班级，根据“是否需要展示在横表”的选项来决定是否展示到横表
